<!DOCTYPE html>
<html lang="ko">

<head th:insert="~{fragments/common/head :: head}">

<body>

	<header th:insert="~{fragments/common/header :: header}"></header>
	
	<main>
		<script th:if="${registMsg != null}" th:inline="javascript">
			alert([[${registMsg}]]);
		</script>

		
	    <section class="register">
	        <div class="container">
	            <div class="register-container">
	                <div class="register-header">
	                    <h2>회원가입</h2>
	                    <p>커뮤니티의 일원이 되어 다양한 활동에 참여하세요!</p>
	                </div>

	                <form th:action="@{/member/register}" method="post" th:object="${registerDTO}" id="registerForm" class="register-form"  enctype="multipart/form-data">
	                    <div class="form-group">
	                        <label for="registerUsername">아이디 <span class="required">*</span></label>
	                        <input type="text" id="registerUsername" name="username" onkeyup="idCheck()" th:field="*{id}" required>
	                        <small id="id-hint" class="form-hint">영문, 숫자 조합 5~20자</small>
	                    </div>

	                    <div class="form-group">
	                        <label for="registerPassword">비밀번호 <span class="required">*</span></label>
	                        <input type="password" id="registerPassword" name="password" onkeyup="passCheck()" th:field="*{password}" required>
	                        <small id="pass-hint" class="form-hint">영문, 숫자, 특수문자 조합 8자 이상</small>
	                    </div>

	                    <div class="form-group">
	                        <label for="confirmPassword">비밀번호 확인 <span class="required">*</span></label>
	                        <input type="password" id="confirmPassword" name="confirmPassword" required>
	                        <small id="confirm-hint"></small>
	                    </div>

	                    <div class="form-group">
	                        <label for="registerEmail">이메일 <span class="required">*</span></label>
	                        <input type="email" id="registerEmail" name="email" th:field="*{email}" required>
	                        <small id="email-hint"></small>
	                    </div>

	                    <div class="form-group">
	                        <label for="registerNickname">닉네임 <span class="required">*</span></label>
	                        <input type="text" id="registerNickname" name="nickname" onkeyup="nicknameCheck()" th:field="*{name}" required>
	                        <small id="nickname-hint" class="form-hint">2~10자 이내로 입력해주세요</small>
	                    </div>

	                    <div class="form-group">
	                        <label>프로필 이미지</label>
	                        <div class="profile-upload">
	                            <div class="profile-preview" id="profilePreview">
	                                <img src="/img/profil-img.png" alt="기본 프로필">
	                            </div>
	                            <div class="profile-input">
	                                <input type="file" id="profileImage" name="profileImage" accept="image/*">
	                                <button type="button" class="btn btn-sm" id="uploadProfileBtn">이미지 선택</button>
	                            </div>
	                        </div>
	                    </div>

	                    <div class="form-group checkbox-group">
	                        <div class="checkbox-item">
	                            <input type="checkbox" id="termsAgree" name="termsAgree" value="Y" required>
	                            <label for="termsAgree">이용약관 동의 <span class="required">*</span></label>
	                            <a href="#" class="terms-link">[보기]</a>
	                        </div>
	                        <div class="checkbox-item">
	                            <input type="checkbox" id="privacyAgree" name="privacyAgree" value="Y" required>
	                            <label for="privacyAgree">개인정보 수집 및 이용 동의 <span class="required">*</span></label>
	                            <a href="#" class="terms-link">[보기]</a>
	                        </div>
	                        <div class="checkbox-item">
	                            <input type="checkbox" id="marketingAgreeId">
	                            <label for="marketingAgree">마케팅 정보 수신 동의 (선택)</label>
	                        </div>
	                    </div>

	                    <div class="form-actions">
	                        <button type="submit" class="btn btn-primary btn-block"
	                            onclick="allCheck()">가입하기</button>
	                    </div>

	                    <div class="login-link">
	                        <p>이미 계정이 있으신가요? <a href="#" id="showLoginBtn">로그인</a></p>
	                    </div>
	                </form>
	            </div>
	        </div>
	    </section>
	</main>

  <footer th:insert="~{fragments/common/footer :: footer}"></footer>


  <!-- 로그인 모달 -->
  <div  id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>로그인</h2>
      <form th:action="@{/member/login}" method="post" id="loginForm">
        <div class="form-group">
          <label for="username">아이디</label>
          <input type="text" id="id" name="id" required>
        </div>
        <div class="form-group">
          <label for="password">비밀번호</label>
          <input type="password" id="password" name="password" required>
        </div>
        <button type="submit" class="btn btn-primary">로그인</button>
      </form>
      <p class="text-center">계정이 없으신가요? <a href="register.html">회원가입</a></p>
    </div>
  </div>
</body>
</html>